YUI.namespace("com.schoolspecialty.ebs.istore.cartActions").seeItemPrice=function(itemParams,options){YUI().use("io","panel","json-parse","json-stringify","node",function(Y){var panelContent={};panelContent.contrain=true;YUI.com.schoolspecialty.ebs.istore.waitPanel.showWaitPanel(panelContent);var seeYourPriceForm=document.createElement("form");document.body.appendChild(seeYourPriceForm);seeYourPriceForm.id=Y.guid();var addHidden=function(name,value){var h=document.createElement("input");h.setAttribute("type","hidden");h.setAttribute("name",name);h.setAttribute("value",value);seeYourPriceForm.appendChild(h);};addHidden("itemId",itemParams.itemId);addHidden("qty",1);addHidden("itemNumber",itemParams.itemNumber);addHidden("processingAction","seeYourPrice");addHidden("pageType",itemParams.pageType);YUI.com.schoolspecialty.ebs.istore.recordEvent("calcClick","Calculator","Click",itemParams.itemNumber);var NUMBER_PATTERN=new RegExp("^\\d+$");Y.io("/OA_HTML/xxssi_ibeCCtdMenu.jsp",{method:"POST",form:seeYourPriceForm,on:{success:function(id,o){YUI.com.schoolspecialty.ebs.istore.waitPanel.hideWaitPanel();var response=Y.JSON.parse(o.responseText);if(response.errorMessage==undefined){if(itemParams.pageType&&itemParams.pageType=="productDetailPage"){var seePricebutton=Y.one(".button_red_wrapper");if(seePricebutton){seePricebutton.addClass("hidden");}document.getElementById("your-price-label").innerHTML="Your Price";document.getElementById("your-price-amount").innerHTML=response.price;document.getElementById("seeItemPrices").innerHTML=response.priceHtml;}else{if(itemParams.pageType&&itemParams.pageType=="searchResults"){var searchPriceHTML=Y.Node.create(response.priceHtml);var node=Y.one("#searchPriceHTML_"+itemParams.itemId);var parent=node.get("parentNode");parent.removeChild(node);parent.prepend(searchPriceHTML);}else{if(itemParams.pageType&&itemParams.pageType=="productCarousel"){var carouselPriceHTML=Y.Node.create(response.priceHtml);var node=Y.one("#carouselPriceHTML_"+itemParams.itemId);var parent=node.get("parentNode");parent.removeChild(node);parent.append(carouselPriceHTML);}else{if(itemParams.pageType&&itemParams.pageType=="promoCarousel"){var carouselPriceHTML=Y.Node.create(response.priceHtml);var node=Y.one("#carouselPriceHTML_"+itemParams.itemId);var parent=node.get("parentNode");parent.removeChild(node);var promoIconNode=Y.one("#promoIcons_"+itemParams.itemId);parent.removeChild(promoIconNode);parent.append(carouselPriceHTML);parent.append(promoIconNode);}}}}}else{alert(response.errorMessage);}},failure:function(id,result){YUI.com.schoolspecialty.ebs.istore.waitPanel.hideWaitPanel();}}});});};